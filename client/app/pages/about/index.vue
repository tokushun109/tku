<template>
    <c-layout-container normal class="page-about">
        <div class="page-title-container">
            <h2 class="page-title">About</h2>
        </div>
        <section class="story-section about-section">
            <h3 class="about-section__title">Story</h3>
            <v-row>
                <v-col cols="12" offset-sm="1" sm="10" offset-md="0" md="6" align-self="center">
                    <v-img class="about-section__image" src="/img/about/story.jpg"></v-img>
                </v-col>
                <v-col cols="12" sm="12" md="6" align-self="center">
                    <div>
                        <div class="about-section__content">
                            <div class="about-section__content__message">
                                <p>とこりりはハンドメイドのマクラメ編み</p>
                                <p class="mb-10">アクセサリーを制作・販売しているお店です。</p>
                                <p>仕事や出産、育児、家事...</p>
                                <p>慌ただしい毎日の中で</p>
                                <p>頑張る女性の味方になりたい、</p>
                                <p class="mb-10">そんな想いでとこりりは生まれました。</p>
                                <p>とこりりのモノづくりの根底には</p>
                                <p>「人の役に立ちたい」</p>
                                <p>「私の作品で元気づけたい」</p>
                                <p>という思いがあり、</p>
                                <p>制作活動の原動力となっています。</p>
                            </div>
                        </div>
                    </div>
                </v-col>
            </v-row>
        </section>
        <section class="concept-section about-section">
            <h3 class="about-section__title">Concept</h3>
            <v-row>
                <v-col cols="12" offset-sm="1" sm="10" offset-md="0" md="6">
                    <v-card flat>
                        <v-img class="about-section__image short" src="/img/about/concept1.jpg"></v-img>
                        <v-card-title class="concept-section__subtitle">マクラメ編みの繊細さ</v-card-title>
                        <v-card-text>
                            <div class="about-section__content">
                                <div class="about-section__content__message">
                                    <p>マクラメ編みとは</p>
                                    <p>手で紐を「結ぶ」 という工程を繰り返し</p>
                                    <p class="mb-10">模様を生み出す技法のこと。</p>
                                    <p>同じデザインで編んでも使用する糸によって</p>
                                    <p class="mb-10">仕上がりの印象が大きく変化するマクラメ。</p>
                                    <p>作品に合わせて材質・艶感・質感・太さなど</p>
                                    <p class="mb-10">を選定しています。</p>
                                    <p>ハンドメイドだからこそ生み出せる繊細な模様を</p>
                                    <p>ぜひお楽しみください♪</p>
                                </div>
                            </div>
                        </v-card-text>
                    </v-card>
                </v-col>
                <v-col cols="12" offset-sm="1" sm="10" offset-md="0" md="6">
                    <v-card flat>
                        <v-img class="about-section__image short" src="/img/about/concept2.jpg"></v-img>
                        <v-card-title class="concept-section__subtitle">オシャレなだけじゃない+α</v-card-title>
                        <v-card-text>
                            <div class="about-section__content">
                                <div class="about-section__content__message">
                                    <p>「日常の小さな悩みを解決する」</p>
                                    <p class="mb-10">「目に留まるたび励まされる」</p>
                                    <p>そんなモノづくりを大切にしています。</p>
                                    <p>アロマを楽しむアイテムや、</p>
                                    <p>静電気対策に役立つアイテム、</p>
                                    <p class="mb-10">大事な人と分かち合うお揃いアイテムなど</p>
                                    <p>「オシャレなだけじゃない！」</p>
                                    <p class="mb-10">「あったら、ちょっと嬉しい♪」</p>
                                    <p>アクセサリーを制作しています。</p>
                                </div>
                            </div>
                        </v-card-text>
                    </v-card>
                </v-col>
            </v-row>
        </section>
        <section class="creator-section about-section">
            <h3 class="about-section__title">Creator</h3>
            <v-row>
                <v-col cols="12" offset-sm="1" sm="10" offset-md="0" md="6" align-self="center">
                    <v-img class="about-section__image" src="/img/about/creator.jpg"></v-img>
                </v-col>
                <v-col cols="12" sm="12" md="6" align-self="center">
                    <div>
                        <div class="about-section__content">
                            <h4 class="creator-section__name">tku</h4>
                            <div class="about-section__content__message">
                                <table>
                                    <tr class="creator-section__row">
                                        <td>2016年</td>
                                        <td>大手服飾品製造メーカー入社</td>
                                    </tr>
                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>色彩学と品質管理について学ぶ</td>
                                    </tr>
                                    <tr class="creator-section__row narrow">
                                        <td>2018年</td>
                                        <td>フリマサイトにて、</td>
                                    </tr>
                                    <tr class="creator-section__row narrow">
                                        <td></td>
                                        <td>アクセサリー作家 tku(とく)として</td>
                                    </tr>
                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>ハンドメイド作品の販売開始</td>
                                    </tr>

                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>独学でマクラメ編みの技術を磨く</td>
                                    </tr>
                                    <tr class="creator-section__row narrow">
                                        <td>2020年</td>
                                        <td>オンラインショップにて、</td>
                                    </tr>
                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>マクラメ編み作品の販売開始</td>
                                    </tr>

                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>とこりり開業準備をする</td>
                                    </tr>
                                    <tr class="creator-section__row narrow">
                                        <td>2022年</td>
                                        <td>作家活動を拡充するため、</td>
                                    </tr>
                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>服飾品メーカー退社</td>
                                    </tr>
                                    <tr class="creator-section__row">
                                        <td></td>
                                        <td>とこりりを個人事業開業する</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </v-col>
            </v-row>
        </section>
        <section class="site-section about-section">
            <h3 class="about-section__title">Site</h3>
            <v-row>
                <v-col cols="12" offset-sm="1" sm="5" align-self="center">
                    <v-card flat>
                        <v-card-title class="site-section__subtitle">SNS</v-card-title>
                        <v-card-text v-if="snsList">
                            <v-container class="site-section__content">
                                <div v-for="sns in mdiSnsList" :key="sns.name">
                                    <v-btn
                                        height="80"
                                        width="150"
                                        class="sns-item"
                                        fab
                                        :color="ColorType.Accent"
                                        :href="sns.url"
                                        target="_blank"
                                        rel="noopener noreferrer"
                                    >
                                        <v-icon :color="ColorType.White" class="sns-icon">{{ sns.icon }}</v-icon>
                                        <span class="sns-name">{{ sns.name }}</span>
                                    </v-btn>
                                </div>
                            </v-container>
                        </v-card-text>
                    </v-card>
                </v-col>
                <v-col cols="12" sm="5" align-self="center">
                    <v-card flat>
                        <v-card-title class="site-section__subtitle">Shop</v-card-title>
                        <v-card-text v-if="salesSiteList">
                            <v-container class="site-section__content">
                                <div v-for="salesSite in salesSiteList" :key="salesSite.name">
                                    <div class="site-item">
                                        <v-btn
                                            height="80"
                                            width="150"
                                            fab
                                            :color="ColorType.Accent"
                                            :href="salesSite.url"
                                            target="_blank"
                                            rel="noopener noreferrer"
                                        >
                                            <span class="site-name">{{ salesSite.name }}</span>
                                        </v-btn>
                                    </div>
                                </div>
                            </v-container>
                        </v-card-text>
                    </v-card>
                </v-col>
            </v-row>
        </section>
        <c-breadcrumbs :items="breadCrumbs" />
    </c-layout-container>
</template>

<script lang="ts">
import { mdiInstagram } from '@mdi/js'
import { Context } from '@nuxt/types'
import { Component, Vue } from 'nuxt-property-decorator'
import { ColorType, IBreadCrumb, ICreator, ISite } from '~/types'
@Component({})
export default class PageAboutIndex extends Vue {
    ColorType: typeof ColorType = ColorType

    creator: ICreator | null = null
    snsList: Array<ISite> | null = []
    salesSiteList: Array<ISite> | null = []

    get mdiSnsList(): Array<ISite> {
        if (!this.snsList) {
            return []
        }
        for (const sns of this.snsList) {
            if (sns.name === 'instagram') {
                sns.icon = mdiInstagram
            }
        }
        return this.snsList
    }

    breadCrumbs: Array<IBreadCrumb> = [
        { text: 'トップページ', href: '/' },
        { text: 'とこりりについて', disabled: true },
    ]

    async asyncData({ app }: Context) {
        try {
            const creator: ICreator = await app.$axios.$get(`/creator`)
            const snsList: Array<ISite> = await app.$axios.$get(`/sns`)
            const salesSiteList: Array<ISite> = await app.$axios.$get(`/sales_site`)
            return { creator, snsList, salesSiteList }
        } catch (e) {
            return { creator: null, snsList: [], salesSiteList: [] }
        }
    }

    head() {
        if (!this.creator) {
            return
        }
        const title = 'とこりりについて | とこりり'
        const description = 'とこりりはハンドメイドのマクラメ編みアクセサリーを制作・販売しているお店です。'
        const image = this.creator.apiPath
        return {
            title,
            meta: [
                {
                    hid: 'description',
                    name: 'description',
                    content: description,
                },
                {
                    hid: 'og:title',
                    property: 'og:title',
                    content: title,
                },
                {
                    hid: 'og:description',
                    property: 'og:description',
                    content: description,
                },
                {
                    hid: 'og:type',
                    property: 'og:type',
                    content: 'article',
                },
                {
                    hid: 'og:image',
                    property: 'og:image',
                    content: image,
                },
            ],
        }
    }
}
</script>

<style lang="stylus" scoped>
.page-about
    .page-title-container
        +sm()
            display none
    // aboutのセクションごとに共通
    .about-section
        position relative
        padding 40px 24px 100px
        height 100%
        +sm()
            padding-bottom 0
        &__title
            margin-bottom 20px
            color $secondary
            text-align center
            font-size 50px
            font-family $title-font-face !important
            +sm()
                font-size 30px
        &__content
            width 100%
            height 100%
            &__message
                margin 0 auto
                width fit-content
                color $text-color
                font-size $font-normal
                line-height 100%
                +sm()
                    font-size 3.5vw
        &__image
            width 100%
            border-radius $image-border-radius !important
            aspect-ratio 1 / 1
            object-fit cover
            &.short
                aspect-ratio 1 / 0.7
    .concept-section
        &__subtitle
            justify-content center !important
            +sm()
                font-size 5vw
    .creator-section
        &__name
            margin-bottom 50px
            color $text-color
            text-align center
            font-size 40px
            font-family $title-font-face !important
            +sm()
                margin-bottom 20px
        &__row
            height 40px
            vertical-align top
            &.narrow
                height 20px
            &>td
                &:first-child
                    width 100px
                    +sm()
                        width 50px
    .site-section
        &__subtitle
            justify-content center !important
            color $text-color
            font-size 30px
            font-family $title-font-face !important
        &__content
            display flex
            justify-content center
            .sns-item
                position relative
                margin 0 10px
                text-align center
                .sns-icon
                    position absolute
                    top -23px
                .sns-name
                    position absolute
                    top -5px
                    left 50%
                    margin-top 10px
                    color $white-color
                    font-weight $title-font-weight
                    font-size 12px !important
                    transform translateX(-50%)
            .site-item
                margin 0 10px
                text-align center
                .site-name
                    position absolute
                    top -22px
                    left 50%
                    margin-top 10px
                    color $white-color
                    font-weight $title-font-weight
                    font-size $font-normal
                    transform translateX(-50%)
</style>
