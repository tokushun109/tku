#!/usr/bin/env sh
cd frontend

# 全てのテストを実行
echo "🧪 全てのテストを実行しています..."
if ! pnpm test-all --run --reporter=verbose; then
  echo "❌ テストが失敗しました。以下を確認してください:"
  echo "  - pnpm test        : ユニットテスト"
  echo "  - pnpm test-integration : インテグレーションテスト"
  echo "  - pnpm test-storybook   : Storybookテスト"
  echo "  - pnpm test-coverage    : カバレッジ付きテスト"
  echo "🔧 テストを修正してから再度プッシュしてください。"
  exit 1
fi

# テストが成功したらプッシュを続行
echo "✅ すべてのテストが成功しました。プッシュを続行します。"
